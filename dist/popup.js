import{n as z,s as X,S as Z,i as x,e as p,g as y,a as u,b as j,c as i,f as D,h as he,j as Y,t as G,d as J,k as S,l as P,m as C,p as _e,o as me,r as ge,q as be,u as ye,v as ee,w as te,x as le,y as se,z as ne}from"./Component.js";import"./index.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const r of d.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function l(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(a){if(a.ep)return;a.ep=!0;const d=l(a);fetch(a.href,d)}})();function V(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}const Q=[];function $(t,e=z){let l;const n=new Set;function a(f){if(X(t,f)&&(t=f,l)){const c=!Q.length;for(const o of n)o[1](),Q.push(o,t);if(c){for(let o=0;o<Q.length;o+=2)Q[o][0](Q[o+1]);Q.length=0}}}function d(f){a(f(t))}function r(f,c=z){const o=[f,c];return n.add(o),n.size===1&&(l=e(a,d)||z),f(t),()=>{n.delete(o),n.size===0&&l&&(l(),l=null)}}return{set:a,update:d,subscribe:r}}let ie=$([{website:"google.com",length:5,difficulty:"easy",limit:5,days:[1,1,0,0,0,0,0],startTime:"00:00",endTime:"23:59"},{website:"reddit.com",length:5,difficulty:"extra hard",limit:0,days:[0,1,1,1,1,0,0],startTime:"00:00",endTime:"23:59"}]);function ae(t,e,l){const n=t.slice();return n[21]=e[l],n}function re(t,e,l){const n=t.slice();return n[24]=e[l],n[26]=l,n}function ce(t){let e;return{c(){e=p("span"),e.textContent=`${t[3][t[26]]} `,u(e,"class","border grid place-content-center svelte-1x7dbui"),S(e,"day-selected",t[24]!==0)},m(l,n){j(l,e,n)},p(l,n){n&4&&S(e,"day-selected",l[24]!==0)},d(l){l&&D(e)}}}function de(t){let e,l,n=t[21].website+"",a,d,r,f=t[21].length+"",c,o,m,s=t[21].difficulty+"",g,h,v,A=t[21].limit+"",R,F,M,H,N,I=t[21].startTime+"",E,K,T,W=t[21].endTime+"",O,B=V(t[21].days),b=[];for(let _=0;_<B.length;_+=1)b[_]=ce(re(t,B,_));return{c(){e=p("div"),l=p("div"),a=G(n),d=y(),r=p("div"),c=G(f),o=y(),m=p("div"),g=G(s),h=y(),v=p("div"),R=G(A),F=y(),M=p("div");for(let _=0;_<b.length;_+=1)b[_].c();H=y(),N=p("div"),E=G(I),K=y(),T=p("div"),O=G(W),u(l,"class","col-span-3 border p-1"),u(r,"class","border p-1"),u(m,"class","border p-1"),u(v,"class","border p-1"),u(M,"class","border col-span-2 grid grid-cols-7"),u(N,"class","border p-1"),u(T,"class","border p-1"),u(e,"class","grid grid-cols-10")},m(_,q){j(_,e,q),i(e,l),i(l,a),i(e,d),i(e,r),i(r,c),i(e,o),i(e,m),i(m,g),i(e,h),i(e,v),i(v,R),i(e,F),i(e,M);for(let w=0;w<b.length;w+=1)b[w]&&b[w].m(M,null);i(e,H),i(e,N),i(N,E),i(e,K),i(e,T),i(T,O)},p(_,q){if(q&4&&n!==(n=_[21].website+"")&&J(a,n),q&4&&f!==(f=_[21].length+"")&&J(c,f),q&4&&s!==(s=_[21].difficulty+"")&&J(g,s),q&4&&A!==(A=_[21].limit+"")&&J(R,A),q&12){B=V(_[21].days);let w;for(w=0;w<B.length;w+=1){const U=re(_,B,w);b[w]?b[w].p(U,q):(b[w]=ce(U),b[w].c(),b[w].m(M,null))}for(;w<b.length;w+=1)b[w].d(1);b.length=B.length}q&4&&I!==(I=_[21].startTime+"")&&J(E,I),q&4&&W!==(W=_[21].endTime+"")&&J(O,W)},d(_){_&&D(e),he(b,_)}}}function ue(t){let e,l,n,a,d,r,f,c,o,m,s,g,h,v,A,R,F,M,H,N,I,E,K,T,W,O,B,b,_,q,w,U;return{c(){e=p("form"),l=p("div"),n=p("input"),a=y(),d=p("input"),r=y(),f=p("input"),c=y(),o=p("input"),m=y(),s=p("div"),g=p("span"),g.textContent="S",h=y(),v=p("span"),v.textContent="M",A=y(),R=p("span"),R.textContent="T",F=y(),M=p("span"),M.textContent="W",H=y(),N=p("span"),N.textContent="T",I=y(),E=p("span"),E.textContent="F",K=y(),T=p("span"),T.textContent="S",W=y(),O=p("input"),B=y(),b=p("input"),_=y(),q=p("div"),q.innerHTML='<button type="submit" class="border border-green-700 text-white bg-green-500 text-xl rounded-md p-1">Save Rule</button>',u(n,"class","col-span-3 svelte-1x7dbui"),u(n,"type","text"),u(n,"name","website"),n.required=!0,u(d,"class"," svelte-1x7dbui"),u(d,"type","text"),u(d,"name","length"),d.required=!0,u(f,"class"," svelte-1x7dbui"),u(f,"type","text"),u(f,"name","difficulty"),f.required=!0,u(o,"class"," svelte-1x7dbui"),u(o,"type","number"),u(o,"name","limit"),o.required=!0,u(g,"class","day-select svelte-1x7dbui"),S(g,"day-selected",t[1].days[0]!==0),u(v,"class","day-select svelte-1x7dbui"),S(v,"day-selected",t[1].days[1]!==0),u(R,"class","day-select svelte-1x7dbui"),S(R,"day-selected",t[1].days[2]!==0),u(M,"class","day-select svelte-1x7dbui"),S(M,"day-selected",t[1].days[3]!==0),u(N,"class","day-select svelte-1x7dbui"),S(N,"day-selected",t[1].days[4]!==0),u(E,"class","day-select svelte-1x7dbui"),S(E,"day-selected",t[1].days[5]!==0),u(T,"class","day-select svelte-1x7dbui"),S(T,"day-selected",t[1].days[6]!==0),u(s,"class","text-white grid grid-cols-7 col-span-2"),u(s,"id","days"),u(O,"class"," svelte-1x7dbui"),u(O,"type","time"),u(O,"name","startTime"),O.required=!0,u(b,"class"," svelte-1x7dbui"),u(b,"type","time"),u(b,"name","endTime"),b.required=!0,u(l,"class","grid grid-cols-10"),u(q,"class","grid place-content-center mt-4"),u(e,"class","text-black")},m(k,L){j(k,e,L),i(e,l),i(l,n),P(n,t[1].website),i(l,a),i(l,d),P(d,t[1].length),i(l,r),i(l,f),P(f,t[1].difficulty),i(l,c),i(l,o),P(o,t[1].limit),i(l,m),i(l,s),i(s,g),i(s,h),i(s,v),i(s,A),i(s,R),i(s,F),i(s,M),i(s,H),i(s,N),i(s,I),i(s,E),i(s,K),i(s,T),i(l,W),i(l,O),P(O,t[1].startTime),i(l,B),i(l,b),P(b,t[1].endTime),i(e,_),i(e,q),w||(U=[C(n,"input",t[6]),C(d,"input",t[7]),C(f,"input",t[8]),C(o,"input",t[9]),C(g,"click",t[10]),C(v,"click",t[11]),C(R,"click",t[12]),C(M,"click",t[13]),C(N,"click",t[14]),C(E,"click",t[15]),C(T,"click",t[16]),C(O,"input",t[17]),C(b,"input",t[18]),C(e,"submit",_e(t[4]))],w=!0)},p(k,L){L&2&&n.value!==k[1].website&&P(n,k[1].website),L&2&&d.value!==k[1].length&&P(d,k[1].length),L&2&&f.value!==k[1].difficulty&&P(f,k[1].difficulty),L&2&&me(o.value)!==k[1].limit&&P(o,k[1].limit),L&2&&S(g,"day-selected",k[1].days[0]!==0),L&2&&S(v,"day-selected",k[1].days[1]!==0),L&2&&S(R,"day-selected",k[1].days[2]!==0),L&2&&S(M,"day-selected",k[1].days[3]!==0),L&2&&S(N,"day-selected",k[1].days[4]!==0),L&2&&S(E,"day-selected",k[1].days[5]!==0),L&2&&S(T,"day-selected",k[1].days[6]!==0),L&2&&P(O,k[1].startTime),L&2&&P(b,k[1].endTime)},d(k){k&&D(e),w=!1,ge(U)}}}function oe(t){let e,l,n;return{c(){e=p("button"),e.textContent="Add New Rule",u(e,"class","border border-orange-700 text-white bg-orange-500 text-xl rounded-md p-1")},m(a,d){j(a,e,d),l||(n=[C(e,"click",t[19]),C(e,"keyup",t[20])],l=!0)},p:z,d(a){a&&D(e),l=!1,ge(n)}}}function ve(t){let e,l,n,a,d,r,f=V(t[2]),c=[];for(let s=0;s<f.length;s+=1)c[s]=de(ae(t,f,s));let o=(t[2].length===0||t[0])&&ue(t),m=!t[0]&&t[2].length!==0&&oe(t);return{c(){e=p("div"),l=p("table"),l.innerHTML='<thead><tr class="grid grid-cols-10"><th class="col-span-3 svelte-1x7dbui">Website</th> <th class="svelte-1x7dbui">Captchas to solve</th> <th class="svelte-1x7dbui">Captcha difficulty</th> <th class="svelte-1x7dbui">Time allowed before blocking</th> <th class="col-span-2 svelte-1x7dbui">Days <br/> (click letters to toggle)</th> <th class="svelte-1x7dbui">Start time</th> <th class="svelte-1x7dbui">End time</th></tr></thead>',n=y();for(let s=0;s<c.length;s+=1)c[s].c();a=y(),o&&o.c(),d=y(),r=p("div"),m&&m.c(),u(l,"class","w-full"),u(r,"class","grid place-content-center mt-4"),u(e,"class","bg-black text-white py-2 xl:text-2xl w-full")},m(s,g){j(s,e,g),i(e,l),i(e,n);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(e,null);i(e,a),o&&o.m(e,null),i(e,d),i(e,r),m&&m.m(r,null)},p(s,[g]){if(g&12){f=V(s[2]);let h;for(h=0;h<f.length;h+=1){const v=ae(s,f,h);c[h]?c[h].p(v,g):(c[h]=de(v),c[h].c(),c[h].m(e,a))}for(;h<c.length;h+=1)c[h].d(1);c.length=f.length}s[2].length===0||s[0]?o?o.p(s,g):(o=ue(s),o.c(),o.m(e,d)):o&&(o.d(1),o=null),!s[0]&&s[2].length!==0?m?m.p(s,g):(m=oe(s),m.c(),m.m(r,null)):m&&(m.d(1),m=null)},i:z,o:z,d(s){s&&D(e),he(c,s),o&&o.d(),m&&m.d()}}}function we(t,e,l){let n;Y(t,ie,T=>l(2,n=T));let a=!1,d=["S","M","T","W","T","F","S"],r={website:"test.com",length:0,difficulty:"easy",limit:0,days:[0,0,0,1,0,0,0],startTime:"00:00",endTime:"23:59"};const f=()=>{be(ie,n=[...n,r],n),console.log(n),l(0,a=!1)},c=T=>{l(1,r.days[T]=r.days[T]===0?1:0,r),l(1,r={...r})};function o(){r.website=this.value,l(1,r)}function m(){r.length=this.value,l(1,r)}function s(){r.difficulty=this.value,l(1,r)}function g(){r.limit=me(this.value),l(1,r)}const h=()=>c(0),v=()=>c(1),A=()=>c(2),R=()=>c(3),F=()=>c(4),M=()=>c(5),H=()=>c(6);function N(){r.startTime=this.value,l(1,r)}function I(){r.endTime=this.value,l(1,r)}return[a,r,n,d,f,c,o,m,s,g,h,v,A,R,F,M,H,N,I,()=>l(0,a=!a),()=>l(0,a=!a)]}class ke extends Z{constructor(e){super(),x(this,e,we,ve,X,{})}}let fe=$(""),Te=$(!1);function Se(t){let e;return{c(){e=p("div"),e.innerHTML='<canvas id="captchaCanvas" width="400" height="200"></canvas>',u(e,"class","border-2 border-purple-700 h-full w-full")},m(l,n){j(l,e,n)},p:z,i:z,o:z,d(l){l&&D(e)}}}const pe="0123456789abcdefghijklmnopqrstuvwxtzabcdefghiklmnopqrstuvwxyz?!@#$%^&*ABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ce(t,e,l){let n,a;Y(t,Te,s=>l(2,n=s)),Y(t,fe,s=>l(5,a=s));let{length:d=6}=e,{difficulty:r=1}=e,f,c;function o(){let s=[];for(let g=0;g<d;g++){let v=(Math.random()<.5?-1:1)*Math.floor(Math.random()*45);const A=Math.floor(Math.random()*pe.length);s.push([pe.substring(A,A+1),v])}return s}const m=()=>{let s=o();be(fe,a=s.map(g=>g[0]).join(""),a),c&&(c.font="60px Arial",c.fillStyle="white",c.fillRect(0,0,f.width,f.height),c.fillStyle="black",s.forEach(([g,h],v)=>{c.save(),c.translate(10+v*60,Math.random()*20+60),c.rotate(h*Math.PI/180),c.fillText(g,0,0),c.restore()}))};return ye(()=>{f=document.getElementById("captchaCanvas"),c=f.getContext("2d"),m()}),t.$$set=s=>{"length"in s&&l(0,d=s.length),"difficulty"in s&&l(1,r=s.difficulty)},t.$$.update=()=>{t.$$.dirty&4&&m()},[d,r,n]}class Me extends Z{constructor(e){super(),x(this,e,Ce,Se,X,{length:0,difficulty:1})}}function qe(t){let e,l,n,a,d;return l=new ke({}),a=new Me({}),{c(){e=p("main"),ee(l.$$.fragment),n=y(),ee(a.$$.fragment),u(e,"class","")},m(r,f){j(r,e,f),te(l,e,null),i(e,n),te(a,e,null),d=!0},p:z,i(r){d||(le(l.$$.fragment,r),le(a.$$.fragment,r),d=!0)},o(r){se(l.$$.fragment,r),se(a.$$.fragment,r),d=!1},d(r){r&&D(e),ne(l),ne(a)}}}class Le extends Z{constructor(e){super(),x(this,e,null,qe,X,{})}}new Le({target:document.getElementById("app")});
