var tt=Object.defineProperty;var et=(t,e,n)=>e in t?tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var C=(t,e,n)=>et(t,typeof e!="symbol"?e+"":e,n);function d(){}function H(t){return t()}function I(){return Object.create(null)}function k(t){t.forEach(H)}function V(t){return typeof t=="function"}function j(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function nt(t){return Object.keys(t).length===0}function rt(t,...e){if(t==null){for(const r of e)r(void 0);return d}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function N(t,e,n){t.$$.on_destroy.push(rt(e,n))}function D(t,e,n){return t.set(n),e}function x(t,e){t.appendChild(e)}function G(t,e,n){t.insertBefore(e,n||null)}function A(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function ot(t){return document.createTextNode(t)}function it(){return ot(" ")}function ct(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function st(t){return Array.from(t.childNodes)}function M(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}let S;function v(t){S=t}function ut(){if(!S)throw new Error("Function called outside component initialization");return S}function lt(t){ut().$$.on_mount.push(t)}const y=[],q=[];let $=[];const B=[],at=Promise.resolve();let z=!1;function ft(){z||(z=!0,at.then(J))}function L(t){$.push(t)}const O=new Set;let g=0;function J(){if(g!==0)return;const t=S;do{try{for(;g<y.length;){const e=y[g];g++,v(e),dt(e.$$)}}catch(e){throw y.length=0,g=0,e}for(v(null),y.length=0,g=0;q.length;)q.pop()();for(let e=0;e<$.length;e+=1){const n=$[e];O.has(n)||(O.add(n),n())}$.length=0}while(y.length);for(;B.length;)B.pop()();z=!1,O.clear(),v(t)}function dt(t){if(t.fragment!==null){t.update(),k(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}function ht(t){const e=[],n=[];$.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),$=e}const E=new Set;let pt;function K(t,e){t&&t.i&&(E.delete(t),t.i(e))}function gt(t,e,n,r){if(t&&t.o){if(E.has(t))return;E.add(t),pt.c.push(()=>{E.delete(t)}),t.o(e)}}function _t(t){t&&t.c()}function Q(t,e,n){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),L(()=>{const l=t.$$.on_mount.map(H).filter(V);t.$$.on_destroy?t.$$.on_destroy.push(...l):k(l),t.$$.on_mount=[]}),s.forEach(L)}function W(t,e){const n=t.$$;n.fragment!==null&&(ht(n.after_update),k(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function mt(t,e){t.$$.dirty[0]===-1&&(y.push(t),ft(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(t,e,n,r,s,l,a=null,u=[-1]){const c=S;v(t);const o=t.$$={fragment:null,ctx:[],props:l,update:d,not_equal:s,bound:I(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:I(),dirty:u,skip_bound:!1,root:e.target||c.$$.root};a&&a(o.root);let h=!1;if(o.ctx=n?n(t,e.props||{},(i,f,...w)=>{const p=w.length?w[0]:f;return o.ctx&&s(o.ctx[i],o.ctx[i]=p)&&(!o.skip_bound&&o.bound[i]&&o.bound[i](p),h&&mt(t,i)),f}):[],o.update(),h=!0,k(o.before_update),o.fragment=r?r(o.ctx):!1,e.target){if(e.hydrate){const i=st(e.target);o.fragment&&o.fragment.l(i),i.forEach(A)}else o.fragment&&o.fragment.c();e.intro&&K(t.$$.fragment),Q(t,e.target,e.anchor),J()}v(c)}class Y{constructor(){C(this,"$$");C(this,"$$set")}$destroy(){W(this,1),this.$destroy=d}$on(e,n){if(!V(n))return d;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!nt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const bt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(bt);const _=[];function Z(t,e=d){let n;const r=new Set;function s(u){if(j(t,u)&&(t=u,n)){const c=!_.length;for(const o of r)o[1](),_.push(o,t);if(c){for(let o=0;o<_.length;o+=2)_[o][0](_[o+1]);_.length=0}}}function l(u){s(u(t))}function a(u,c=d){const o=[u,c];return r.add(o),r.size===1&&(n=e(s,l)||d),u(t),()=>{r.delete(o),r.size===0&&n&&(n(),n=null)}}return{set:s,update:l,subscribe:a}}let R=Z(!1),U=Z("");function yt(t){let e;return{c(){e=m("div"),e.innerHTML='<canvas id="captchaCanvas" width="400" height="200"></canvas>',b(e,"class","border-2 border-purple-700 h-full w-full")},m(n,r){G(n,e,r)},p:d,i:d,o:d,d(n){n&&A(e)}}}const F="0123456789abcdefghijklmnopqrstuvwxtzabcdefghiklmnopqrstuvwxyz?!@#$%^&*ABCDEFGHIJKLMNOPQRSTUVWXYZ";function $t(t,e,n){let r,s;N(t,R,i=>n(2,r=i)),N(t,U,i=>n(5,s=i));let{length:l=6}=e,{difficulty:a=1}=e,u,c;function o(){let i=[];for(let f=0;f<l;f++){let p=(Math.random()<.5?-1:1)*Math.floor(Math.random()*45);const T=Math.floor(Math.random()*F.length);i.push([F.substring(T,T+1),p])}return i}const h=()=>{let i=o();D(U,s=i.map(f=>f[0]).join(""),s),c&&(c.font="60px Arial",c.fillStyle="white",c.fillRect(0,0,u.width,u.height),c.fillStyle="black",i.forEach(([f,w],p)=>{c.save(),c.translate(10+p*60,Math.random()*20+60),c.rotate(w*Math.PI/180),c.fillText(f,0,0),c.restore()}))};return lt(()=>{u=document.getElementById("captchaCanvas"),c=u.getContext("2d"),h()}),t.$$set=i=>{"length"in i&&n(0,l=i.length),"difficulty"in i&&n(1,a=i.difficulty)},t.$$.update=()=>{t.$$.dirty&4&&h()},[l,a,r]}class wt extends Y{constructor(e){super(),X(this,e,$t,yt,j,{length:0,difficulty:1})}}function xt(t){let e,n,r,s,l,a,u,c,o,h;return s=new wt({}),{c(){e=m("div"),n=m("div"),r=m("section"),_t(s.$$.fragment),l=it(),a=m("section"),u=m("button"),u.textContent="RESET",b(u,"class","p-2 bg-green-500 rounded-lg text-xl"),b(u,"type","button"),b(n,"class","grid place-content-center h-1/3 border border-red-500"),b(e,"class","h-screen w-screen absolute overflow-hidden bg-black bg-opacity-50 z-50"),M(e,"position","absolute"),M(e,"top","0px"),M(e,"z-index","1000"),b(e,"id","cover")},m(i,f){G(i,e,f),x(e,n),x(n,r),Q(s,r,null),x(n,l),x(n,a),x(a,u),c=!0,o||(h=ct(u,"click",t[1]),o=!0)},p:d,i(i){c||(K(s.$$.fragment,i),c=!0)},o(i){gt(s.$$.fragment,i),c=!1},d(i){i&&A(e),W(s),o=!1,h()}}}function vt(t,e,n){let r;return N(t,R,l=>n(0,r=l)),[r,()=>D(R,r=!r,r)]}class St extends Y{constructor(e){super(),X(this,e,vt,xt,j,{})}}const P=document.createElement("link");P.rel="stylesheet";P.href=browser.runtime.getURL("content/index.css");document.head.appendChild(P);browser.runtime.onMessage.addListener(t=>{t.action==="showOverlay"&&Et("This is a Svelte component overlay!")});function Et(t){const e=document.createElement("div");document.body.appendChild(e),new St({target:e,props:{message:t}})}
